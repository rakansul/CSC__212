package CSC_227;

/**
 * Process Control Block (PCB) class
 * Represents a process in the operating system
 */
public class PCB {
    private int processId;
    private int burstTime; 
    private int priority;
    private int memoryRequired;
    private String state; // NEW, READY, RUNNING, WAITING, TERMINATED
    private int remainingBurstTime;
    private int waitingTime; 
    private int turnaroundTime;
    private int arrivalTime;
    private int completionTime;
    private int OldPriority ;
    
    
    public PCB(int processId, int burstTime, int priority, int memoryRequired) {
        this.processId = processId;
        this.burstTime = burstTime;
        this.priority = priority;
        this.memoryRequired = memoryRequired;
        this.remainingBurstTime = burstTime;
        this.state = "NEW";
        this.waitingTime = 0;
        this.turnaroundTime = 0;
        this.arrivalTime = 0; // All processes arrive at time 0 as per requirements
        this.OldPriority = priority;
    
    }
    
	// Getters and setters
    public int getProcessId() {
        return processId;
    }
    
    public int getBurstTime() {
        return burstTime;
    }
    
    public int getPriority() {
        return priority;
    }
    public int getOldPriority() {
        return OldPriority;
    }
    
    public void setPriority(int priority) {
        this.priority = priority;
    }
    
    public int getMemoryRequired() {
        return memoryRequired;
    }
    
    public String getState() {
        return state;
    }
    
    public void setState(String state) {
        this.state = state;
    }
    
    public int getRemainingBurstTime() {
        return remainingBurstTime;
    }
    
    public void setRemainingBurstTime(int remainingBurstTime) {
        this.remainingBurstTime = remainingBurstTime;
    }
    
    public void decrementRemainingTime(int time) {
        this.remainingBurstTime -= time;
        if (this.remainingBurstTime < 0) {
            this.remainingBurstTime = 0;
        }
    }
    
    public int getWaitingTime() {
        return waitingTime;
    }
    
    public void setWaitingTime(int waitingTime) {
        this.waitingTime = waitingTime;
    }
    
    public void incrementWaitingTime(int time) {
        this.waitingTime += time;
    }
    
    public int getTurnaroundTime() {
        return turnaroundTime;
    }
    
    public void setTurnaroundTime(int turnaroundTime) {
        this.turnaroundTime = turnaroundTime;
    }
    
    public void calculateTurnaroundTime() {
        this.turnaroundTime = this.completionTime - this.arrivalTime;
    }
    
    public int getCompletionTime() {
        return completionTime;
    }
    
    public void setCompletionTime(int completionTime) {
        this.completionTime = completionTime;
    }
    
    @Override
    public String toString() {
        return "Process ID: " + processId + ", Burst Time: " + burstTime +
        		", Priority: " + priority + ", Memory: " +
        		memoryRequired + "MB" +", State: " + state;
    }
}
